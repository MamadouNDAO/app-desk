<ion-content >
  <div class="principal" *ngIf="showAllProducts">
      <ion-grid >
        <ion-row  >
          <ion-col class="nav-col" size="1"routerLink="/tabs/tab1">
            <ion-icon class="icon" name="chevron-back-outline"></ion-icon>
          </ion-col>
          <ion-col class="FirstColumn"  size="9"  >
            <span class="serviceTitle" >Restauration</span>
          </ion-col>
          <ion-col  size="2" class="shoppingHistorical">
            <ion-icon (click)="redirectToHistorique()" class="iconHIstorique" name="time-outline"></ion-icon>
            <ion-icon (click)="redirectToshopping()" class="iconHIstorique"  name="cart-outline"></ion-icon>
          </ion-col>
        </ion-row>
      </ion-grid>
    <ion-card class="card-M" >
      <ion-list lines="none" *ngFor="let product of restaurantProducts">
        <div class="">
          <ion-item [class.desactiveProduct]="product.id != 1" (click)="product.products != '' && getCurrentProduct(product)">
            <ion-grid class="productGrid">
              <ion-row  class="ion-align-items-center">
                <ion-col size="2" >
                  <ion-icon  class="productIcon" name="{{product.icon}}-outline"></ion-icon>
                </ion-col>
                <ion-col>
                 <span class="productName">{{product.name}}</span>
                </ion-col>
              </ion-row>
            </ion-grid>
            <!-- <ion-icon  class="productIcon" name="{{product.icon}}-outline"></ion-icon>
            <ion-label>{{product.name}}</ion-label> -->
          </ion-item>
          <div class="divider"></div>
        </div>
      </ion-list>
    </ion-card>
  </div>
  <div class="principal" *ngIf="showCurrentProducts">
    <ion-grid >
      <ion-row   class="ion-align-items-center">
        <ion-col size="1" (click)="showAllproductsPage()">
              <ion-icon class="icon" name="chevron-back-outline" ></ion-icon>
        </ion-col>
        <ion-col class="FirstColumn"  size="10"  >
          <span class="serviceTitle"  >{{currentProductType.name}}</span>
        </ion-col>
        <ion-col  size="1" class="shoppingHistorical">
          <ion-icon (click)="redirectToHistorique()" class="iconHIstorique" name="time-outline"></ion-icon>
          <ion-icon (click)="redirectToshopping()" class="iconHIstorique"  name="cart-outline"></ion-icon>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-card class="card-M">
      <ion-list lines="none" *ngFor="let product of currentProductType.products">
         <div class="">
           <ion-item (click)="openBottomSheet(product)" >
             <ion-grid class="productGrid">
               <ion-row class="ion-align-items-center" >
                 <ion-col size="2" >
                   <ion-icon  class="productIcon" name="{{product.icon}}-outline"></ion-icon>
                 </ion-col>
                 <ion-col>
                 <span class="productName">{{product.name}}</span>
                 </ion-col>
               </ion-row>
             </ion-grid>
           </ion-item>
           <div class="divider"></div>
         </div>
      </ion-list>
    </ion-card>
    <div id="restaurantBottomSheet" class="bottomSheet" >
      <ion-grid >
        <ion-row>
          <ion-col size="12" (click)="closeBottomSheet()" >
            <div class="bottomSheetNameDiv">
                <p class="bottomSheetProductName"> {{ currentProduct?.name}}</p>
            </div>
          </ion-col>
          <ion-col size="10">
            <ion-icon  class="productIcon" name="{{ currentProduct?.icon}}-outline"></ion-icon>
          </ion-col>
          <ion-col size="2" class="priceColumn">
            <span class="bottomSheetProductprice">{{  currentProduct?.price * counter | number: '1.2-2'}}â‚¬</span>
          </ion-col>
          <ion-col size="12" >
            <div class="">
                <p class="bottomSheetProductDescription"> {{ currentProduct?.description}}</p>
            </div>
          </ion-col>
          <ion-grid>
            <ion-row class="counterRow">
                <ion-col size="2"  class="FirstColumn">
                  <ion-icon class="productIconSum" name="remove-circle-outline" (click)="remouveAmount()"></ion-icon>
                </ion-col>
                <ion-col size="2" class="FirstColumn">
                  <span  >{{counter}}</span>
                </ion-col>
                <ion-col size="2" class="FirstColumn">
                  <ion-icon class="productIconSum" name="add-circle-outline" (click)="addAmount()" ></ion-icon>
                </ion-col>
            </ion-row>
          </ion-grid>
          <ion-col class="counterColumn" size="12" >
            <button class="btn-app" (click)="addProduct(currentProduct)">
              Ajouter
            </button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </div>
</ion-content>
